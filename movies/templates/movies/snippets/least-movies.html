{% load static %}
<style>

    .add-movie{
        color: green;
        width: 55px;
        height: 55px;
    }

    .movie-thumbnail-find{
        width: 75px;
        height: 75px;
        object-fit: cover;
    }
    td{
        font-family: Arial, Helvetica, sans-serif;
        font-size: 18px;
    }
    .img-popcorn, .img-tomato{
        width: 25px;
        height: 25px;
        position: absolute;
        margin-left: -30px;
    }
  
</style>

    
    <table class="table table-striped table-hover" style="cursor: pointer; width: 100%!important;">
            
       
            <thead>
                <button 
                    hx-get="{% url 'request-top-movies-page' %}"
                    hx-target="#container"
                    hx-swap="innerHTML"
                    id="js-toprated" 
                    class="toprated btn text-center"> 
                    Top
                </button>

   
                <button 
                    hx-get="{% url 'request-least-movies-page' %}"
                    hx-target="#container"
                    hx-swap="innerHTML"
                    id="js-leastrated" 
                    class="leastrated btn text-center" >
                    Least
                </button>
                <button 
                    hx-get="{% url 'request-ordered-movies-page' %}"
                    hx-target="#container"
                    hx-swap="innerHTML"
                    id="js-leastrated" 
                    class="leastrated btn text-center" >
                    A - Z
                </button> 
            <tr>
           
                <!-- forloop.counter -->
            <th scope="col">#</th>
            <th scope="col">Picture</th>
            <th scope="col"></th>
            <th scope="col">Audience Score</th>
            <th scope="col">Tomato Meter</th>
           
            </tr>
        </thead>
        {% if order_movies.items %}
            {% for movie, detail in order_movies.items %}
                <tbody>
                    <div class="d-flex justify-content-center">
                        <div class="spinner-border" id="js-loading-spinner" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        
                    </div>
                    <tr>
                    <th scope="row">{{ forloop.counter }}</th> <!-- this is a for loop counter in django, keeps track of the tieration-->
                    <td><img class="movie-thumbnail-find" src="{{ detail.MovieThumbnail }}" ></td>
                    <td>{{ movie }}</td>
                    <td><img class="img-popcorn text-center" src="{% static 'movies/images/popcorn.svg' %}" >{{ detail.AudienceScore }}%</td>
                    <td> <img class="img-tomato" src="{% static 'movies/images/tomato.svg' %}" > {{ detail.CriticScore }}%</td>
                    </tr>
                
                </tbody>
            {% endfor %}
        {% endif %}
    </table>

 

 
